<!DOCTYPE html>
<html lang="en">
<header>
    <title>Generate Game Code</title>
</header>

<body>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
    let socket = io();

    socket.on('connect', () => {
        console.log('Connected to server.');
    });

    socket.on('disconnect', () => {
        console.log('Disconnected from server.');
    });

    var gameCode = (function () {
        var gc = Math.floor(Math.random() * (99999 - 11111 + 1)) + 11111;
        var time = new Date();
        console.log("Generated game code", gc, "on", time.toString());
        document.write(gc);
        return gc;
    })();

    socket.emit('game code', gameCode);
</script>
</body>
</html>
